(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{28:function(e,t,n){e.exports=n(40)},38:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"requestAllCountries",function(){return N}),n.d(a,"selectCountry",function(){return x}),n.d(a,"changeSearchFieldInput",function(){return R});var r=n(1),c=n.n(r),i=n(23),s=n.n(i),u=n(15),o=n(6),l=n(27),p=n(10),m=n(11),d=n(14),h=n(12),g=n(13),f=function(e){var t=e.title,n=e.subTitle,a=e.active,r=e.handleOnClick;return c.a.createElement("button",{className:"list-group-item ".concat(a&&"active-list-item"),onClick:r},c.a.createElement("h4",{className:"list-group-item-heading"},t),c.a.createElement("p",{className:"list-group-item-text"},n))},b=function(e){var t=e.countries,n=e.selectedCountry,a=e.selectCountry,r=e.searchFieldInput,i=e.changeSearchFieldInput;return c.a.createElement("div",null,c.a.createElement("div",{className:"input-group"},c.a.createElement("span",{className:"input-group-btn"},c.a.createElement("button",{className:"btn btn-default",type:"button"},t.length," Countries")),c.a.createElement("input",{type:"text",className:"form-control",value:r,placeholder:"Search...",onChange:function(e){return i(e.target.value)}})),t.length>0?c.a.createElement("div",{className:"list-group list-scrollable"},t.map(function(e){return c.a.createElement(f,{key:e.name,title:e.name,subTitle:e.region,active:n===e.name,handleOnClick:function(){return a(e.name)}})})):c.a.createElement("div",null,"No Countries match the search :("))},E="ALL_COUNTRIES_FETCH_REQUESTED",v="ALL_COUNTRIES_FETCH_SUCCEEDED",y="SELECT_SINGLE_COUNTRY",O="SINGLE_COUNTRY_SUCCEEDED",j="REQUEST_FAILED",C="CHANGE_SEARCH_FIELD_INPUT",N=function(){return{type:E}},x=function(e){return{type:y,name:e}},R=function(e){return{type:C,inputValue:e}},T=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentWillMount",value:function(){this.props.actions.requestAllCountries()}},{key:"render",value:function(){return c.a.createElement("div",null,this.props.countries.length>0?c.a.createElement(b,{countries:(e=this.props.countries,t=this.props.searchFieldInput,e.filter(function(e){return!(""!==t&&!e.name.toLowerCase().includes(t))})),selectedCountry:this.props.selectedCountry,selectCountry:this.props.actions.selectCountry,searchFieldInput:this.props.searchFieldInput,changeSearchFieldInput:this.props.actions.changeSearchFieldInput}):c.a.createElement("div",null,"Loading Countries..."));var e,t}}]),t}(c.a.Component),w=Object(u.b)(function(e){return{countries:Object.values(e.countriesReducer.countries),selectedCountry:e.countriesReducer.selectedCountry,searchFieldInput:e.countriesReducer.searchFieldInput}},function(e){return{actions:Object(o.b)(Object.assign({},a),e)}})(T),S=n(18),k=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={imageLoading:!0},n.onImageLoad=n.onImageLoad.bind(Object(S.a)(Object(S.a)(n))),n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.flag!==this.props.flag&&this.setState({imageLoading:!0})}},{key:"onImageLoad",value:function(){this.setState({imageLoading:!1})}},{key:"render",value:function(){return c.a.createElement("img",{src:this.props.flag,alt:"Country's Flag",className:"responsive custom-image-size "+(this.state.imageLoading&&"not-visible"),onLoad:this.onImageLoad})}}]),t}(c.a.Component),I=n(3),_=I.PropTypes.shape({name:I.PropTypes.string.isRequired}),L=I.PropTypes.shape({code:I.PropTypes.string.isRequired,name:I.PropTypes.string.isRequired,symbol:I.PropTypes.string.isRequired}),P=I.PropTypes.shape({name:I.PropTypes.string.isRequired,region:I.PropTypes.string.isRequired,flag:I.PropTypes.string.isRequired,capital:I.PropTypes.string.isRequired,population:I.PropTypes.number.isRequired,currencies:I.PropTypes.arrayOf(L.isRequired).isRequired,languages:I.PropTypes.arrayOf(_.isRequired).isRequired}),F=function(e){function t(){return Object(p.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.name,n=e.region,a=e.flag,r=e.languages,i=e.capital,s=e.currencies,u=e.population;return c.a.createElement("div",{className:"thumbnail row card-background"},c.a.createElement("h2",{className:"text-center"},t),c.a.createElement(k,{flag:a}),c.a.createElement("div",{className:"caption"},c.a.createElement("p",{className:"text-center"},"Region: ",n," -- Population: ",u," -- Capital: ",i),c.a.createElement("hr",null),c.a.createElement("div",{className:"col-xs-6"},c.a.createElement("p",{className:"text-center"},"Languages"),r.map(function(e){return c.a.createElement("div",{key:e.name},e.name)})),c.a.createElement("div",{className:"col-xs-6 left-border"},c.a.createElement("p",{className:"text-center"},"Currencies"),s.map(function(e,t){return c.a.createElement("div",{key:e.name},"code: ",e.code," ",c.a.createElement("br",null),"name: ",e.name," ",c.a.createElement("br",null),"symbol: ",e.symbol,t!==s.length-1&&c.a.createElement("hr",null))}))))}}]),t}(c.a.Component);F.propType=P;var q=F,D=function(e){var t=e.selectedCountry;return c.a.createElement(q,{name:t.name,region:t.region,flag:t.flag,languages:t.languages,capital:t.capital,currencies:t.currencies,population:t.population})},A=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={},n}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"card"},this.props.selectedCountry?c.a.createElement(D,{selectedCountry:this.props.selectedCountry}):c.a.createElement("div",null,"Select a country to get more information!"))}}]),t}(c.a.Component),U=Object(u.b)(function(e){return{selectedCountry:e.countriesReducer.countriesDetails[e.countriesReducer.selectedCountry]}},null)(A),K=function(){return c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-xs-6"},c.a.createElement(w,null)),c.a.createElement("div",{className:"col-xs-6"},c.a.createElement(U,null))))},H=n(17),G={countries:{Kenya:{name:"Kenya",region:"Africa"},Nigeria:{name:"Nigeria",region:"Africa"},"South Africa":{name:"South Africa",region:"Africa"}},countriesDetails:{Kenya:{name:"Kenya",region:"Africa",flag:"https://restcountries.eu/data/ken.svg",languages:[{iso639_1:"en",iso639_2:"eng",name:"English",nativeName:"English"},{iso639_1:"sw",iso639_2:"swa",name:"Swahili",nativeName:"Kiswahili"}],capital:"Nairobi",currencies:[{code:"KES",name:"Kenyan shilling",symbol:"Sh"}],population:47251e3}},selectedCountry:"Kenya",searchFieldInput:""};var V=Object(o.c)({countriesReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:var n={};return t.data.forEach(function(e){n[e.name]=e}),Object(H.a)({},e,{countries:n});case j:return Object(H.a)({},e);case O:var a=t.data,r=Object(H.a)({},e.countriesDetails);return r[a.name]=a,Object(H.a)({},e,{countriesDetails:r,selectedCountry:a.name});case C:return Object(H.a)({},e,{searchFieldInput:t.inputValue});default:return e}}}),J=n(7),M=n.n(J),Q=n(5),W=function(e){return e.countriesReducer.countriesDetails},X=M.a.mark(Z),Y=M.a.mark(ee),z=M.a.mark(ne),B=function(){return fetch("https://restcountries.eu/rest/v2/region/africa?fields=name;region").then(function(e){if(200!==e.status)throw new Error(e.status);return e.json()}).then(function(e){return e})};function Z(){var e;return M.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(Q.b)(B);case 3:return e=t.sent,t.next=6,Object(Q.c)({type:v,data:e});case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(Q.c)({type:j,error:t.t0});case 12:case"end":return t.stop()}},X,this,[[0,8]])}var $=function(e){var t="https://restcountries.eu/rest/v2/name/".concat(e);return fetch(t).then(function(e){if(200!==e.status)throw new Error(e.status);return e.json()}).then(function(e){return function(e){var t=e[0],n=t.name,a=t.region,r=t.flag,c=t.languages,i=t.capital,s=t.currencies,u=t.population;return Object.assign({},{name:n,region:a,flag:r,languages:c,capital:i,currencies:s,population:u})}(e)})};function ee(e){var t,n;return M.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(Q.d)(W);case 2:if(t=a.sent,!(n=t[e.name])){a.next=9;break}return a.next=7,Object(Q.c)({type:O,data:n});case 7:a.next=21;break;case 9:return a.prev=9,a.next=12,Object(Q.b)($,e.name);case 12:return n=a.sent,a.next=15,Object(Q.c)({type:O,data:n});case 15:a.next=21;break;case 17:return a.prev=17,a.t0=a.catch(9),a.next=21,Object(Q.c)({type:j,error:a.t0});case 21:case"end":return a.stop()}},Y,this,[[9,17]])}var te=function(){console.log("failed")};function ne(){return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Q.e)(E,Z);case 2:return e.next=4,Object(Q.e)(y,ee);case 4:return e.next=6,Object(Q.e)(j,te);case 6:case"end":return e.stop()}},z,this)}var ae=M.a.mark(re);function re(){return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Q.a)([ne()]);case 2:case"end":return e.stop()}},ae,this)}var ce=Object(l.a)(),ie=function(e){var t=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.d,n=[ce],a=[o.a.apply(void 0,n)],r=Object(o.e)(V,e,t.apply(void 0,a));return ce.run(re),r}({}),se=function(){return c.a.createElement(u.a,{store:ie},c.a.createElement(K,null))};n(38);s.a.render(c.a.createElement(se,null),document.getElementById("root"))}},[[28,2,1]]]);
//# sourceMappingURL=main.1109470b.chunk.js.map